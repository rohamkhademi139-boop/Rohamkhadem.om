<!DOCTYPE html>
<html lang="fa" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ÙØ±ÙˆØ´Ú¯Ø§Ù‡ ØªÚ©â€ŒÙØ§ÛŒÙ„ Ù¾ÛŒØ´Ø±ÙØªÙ‡ - Roham</title>
    
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Vazirmatn:wght@400;700&display=swap');

        :root {
            --primary-color: #007bff;
            --secondary-color: #0056b3;
            --text-color: #333;
            --bg-color: #f8f9fa;
            --card-bg: #fff;
            --success-color: #28a745;
            --danger-color: #dc3545;
        }

        * {
            box-sizing: border-box;
            margin: 0;
            padding: 0;
        }

        body {
            font-family: 'Vazirmatn', Tahoma, sans-serif;
            background-color: var(--bg-color);
            color: var(--text-color);
            line-height: 1.6;
        }

        /* Ø¨Ø®Ø´â€ŒÙ‡Ø§ÛŒ Ù…Ø®ÙÛŒ (Admin, Cart, Checkout) */
        .page-content {
            display: none;
        }

        .page-content.active {
            display: block;
        }

        /* Ù†ÙˆØ§Ø± Ù†Ø§ÙˆØ¨Ø±ÛŒ (Navbar) */
        .navbar {
            display: flex;
            justify-content: space-between;
            align-items: center;
            background-color: var(--card-bg);
            padding: 15px 50px;
            box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);
            position: sticky;
            top: 0;
            z-index: 1000;
        }

        .logo {
            font-size: 1.8em;
            font-weight: 700;
            color: var(--primary-color);
            cursor: pointer;
        }

        .navbar nav a {
            text-decoration: none;
            color: var(--text-color);
            margin: 0 15px;
            font-weight: 400;
            transition: color 0.3s;
            cursor: pointer;
        }
        
        /* Ø¯Ú©Ù…Ù‡â€ŒÙ‡Ø§ Ùˆ ÙØ±Ù…â€ŒÙ‡Ø§ */
        .btn {
            padding: 10px 20px;
            border: none;
            border-radius: 5px;
            cursor: pointer;
            font-size: 1em;
            transition: background-color 0.3s;
        }

        .btn-primary {
            background-color: var(--primary-color);
            color: white;
        }

        .btn-success {
            background-color: var(--success-color);
            color: white;
        }

        .btn-danger {
            background-color: var(--danger-color);
            color: white;
        }

        .btn-primary:hover {
            background-color: var(--secondary-color);
        }

        .cart-btn {
            background-color: #f7a01d;
            color: white;
            margin-right: 10px;
        }

        .container {
            max-width: 1200px;
            margin: 30px auto;
            padding: 0 20px;
        }

        h2 {
            text-align: center;
            margin-bottom: 30px;
            color: var(--secondary-color);
        }

        /* Ø´Ø¨Ú©Ù‡ Ù…Ø­ØµÙˆÙ„Ø§Øª */
        .product-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 30px;
            margin-bottom: 50px;
        }

        .product-card {
            background-color: var(--card-bg);
            border-radius: 10px;
            box-shadow: 0 4px 12px rgba(0, 0, 0, 0.08);
            overflow: hidden;
            text-align: center;
            transition: transform 0.3s;
        }

        .product-card img {
            width: 100%;
            height: 200px;
            object-fit: cover;
        }

        .product-card .price {
            font-size: 1.4em;
            font-weight: 700;
            color: var(--danger-color);
            margin: 15px 0;
        }
        
        /* Ø¨Ø®Ø´ Ø³Ø¨Ø¯ Ø®Ø±ÛŒØ¯ Ùˆ Ù¾Ø±Ø¯Ø§Ø®Øª */
        .cart-item {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 15px 0;
            border-bottom: 1px solid #eee;
        }

        .cart-item img {
            width: 60px;
            height: 60px;
            object-fit: cover;
            border-radius: 5px;
            margin-left: 15px;
        }

        .item-info {
            flex-grow: 1;
        }

        .item-quantity input {
            width: 50px;
            text-align: center;
            margin: 0 10px;
        }
        
        .checkout-summary {
            background-color: #e9ecef;
            padding: 20px;
            border-radius: 8px;
            margin-top: 30px;
        }

        .checkout-summary div {
            display: flex;
            justify-content: space-between;
            padding: 5px 0;
            font-size: 1.1em;
        }

        .checkout-summary .total {
            font-size: 1.5em;
            font-weight: 700;
            color: var(--primary-color);
            border-top: 2px solid #ccc;
            margin-top: 10px;
            padding-top: 10px;
        }
        
        /* ÙØ±Ù… Ù¾Ø±Ø¯Ø§Ø®Øª */
        .checkout-form {
            max-width: 600px;
            margin: 30px auto;
            padding: 30px;
            background-color: var(--card-bg);
            border-radius: 10px;
            box-shadow: 0 4px 12px rgba(0, 0, 0, 0.08);
        }

        .checkout-form input {
            width: 100%;
            padding: 12px;
            margin-bottom: 20px;
            border: 1px solid #ccc;
            border-radius: 5px;
        }

        .checkout-form label {
            display: block;
            margin-bottom: 5px;
            font-weight: 700;
        }

        /* Ø§Ø¯Ù…ÛŒÙ† Ù¾Ù†Ù„ */
        .admin-panel, #login-form {
            max-width: 600px;
            margin: 30px auto;
        }

        .admin-panel input, .admin-panel textarea {
            width: 100%;
            padding: 10px;
            margin-bottom: 15px;
            border: 1px solid #ccc;
            border-radius: 5px;
        }
        
        .error-message {
            color: var(--danger-color);
            text-align: center;
            margin-top: 10px;
            font-weight: 700;
        }
    </style>
</head>
<body>

    <header class="navbar">
        <div class="logo" onclick="showPage('home')">ÙØ±ÙˆØ´Ú¯Ø§Ù‡ Roham</div>
        <nav>
            <a onclick="showPage('home')">Ø®Ø§Ù†Ù‡</a>
            <a onclick="showPage('cart')">Ø³Ø¨Ø¯ Ø®Ø±ÛŒØ¯</a>
            <a onclick="showPage('admin')">Ù¾Ù†Ù„ Ø§Ø¯Ù…ÛŒÙ†</a>
        </nav>
        <div class="user-actions">
            <button class="cart-btn btn" onclick="showPage('cart')">ğŸ›’ Ø³Ø¨Ø¯ Ø®Ø±ÛŒØ¯ (<span id="cart-count">0</span>)</button>
        </div>
    </header>

    <main class="container">
        
        <section id="home-page" class="page-content active">
            <h2>Ù…Ø­ØµÙˆÙ„Ø§Øª ÙˆÛŒÚ˜Ù‡</h2>
            <div id="product-list" class="product-grid">
                </div>
        </section>

        <section id="cart-page" class="page-content">
            <h2>Ø³Ø¨Ø¯ Ø®Ø±ÛŒØ¯ Ø´Ù…Ø§</h2>
            <div id="cart-items-container">
                </div>
            
            <div id="cart-empty-message" style="text-align: center; display: none;">
                <p>Ø³Ø¨Ø¯ Ø®Ø±ÛŒØ¯ Ø´Ù…Ø§ Ø®Ø§Ù„ÛŒ Ø§Ø³Øª.</p>
                <button class="btn btn-primary" onclick="showPage('home')">Ø¨Ø§Ø²Ú¯Ø´Øª Ø¨Ù‡ ÙØ±ÙˆØ´Ú¯Ø§Ù‡</button>
            </div>

            <div id="cart-summary" class="checkout-summary" style="display: none;">
                <div><span>Ù…Ø¬Ù…ÙˆØ¹ Ú©Ø§Ù„Ø§Ù‡Ø§:</span> <span id="subtotal">0 ØªÙˆÙ…Ø§Ù†</span></div>
                <div><span>Ù‡Ø²ÛŒÙ†Ù‡ Ø§Ø±Ø³Ø§Ù„:</span> <span id="shipping">0 ØªÙˆÙ…Ø§Ù†</span></div>
                <div class="total"><span>Ù‚Ø§Ø¨Ù„ Ù¾Ø±Ø¯Ø§Ø®Øª:</span> <span id="total-price">0 ØªÙˆÙ…Ø§Ù†</span></div>
                <button class="btn btn-success" style="width: 100%; margin-top: 20px;" onclick="showPage('checkout')">Ù†Ù‡Ø§ÛŒÛŒ Ú©Ø±Ø¯Ù† Ø®Ø±ÛŒØ¯ Ùˆ Ù¾Ø±Ø¯Ø§Ø®Øª</button>
            </div>
        </section>
        
        <section id="checkout-page" class="page-content">
            <h2>ØªÚ©Ù…ÛŒÙ„ Ø§Ø·Ù„Ø§Ø¹Ø§Øª Ùˆ Ù¾Ø±Ø¯Ø§Ø®Øª</h2>
            <div class="checkout-summary">
                <p>Ø³ÙØ§Ø±Ø´ Ø´Ù…Ø§ Ø´Ø§Ù…Ù„ <span id="checkout-count">0</span> Ú©Ø§Ù„Ø§ Ø¨Ù‡ Ù…Ø¨Ù„Øº <span id="checkout-total">0 ØªÙˆÙ…Ø§Ù†</span> Ø§Ø³Øª.</p>
            </div>

            <form id="checkout-form" class="checkout-form">
                <h3>Ø§Ø·Ù„Ø§Ø¹Ø§Øª Ú¯ÛŒØ±Ù†Ø¯Ù‡</h3>
                <label for="checkout-name">Ù†Ø§Ù… Ú©Ø§Ù…Ù„:</label>
                <input type="text" id="checkout-name" required>

                <label for="checkout-phone">Ø´Ù…Ø§Ø±Ù‡ ØªÙ…Ø§Ø³:</label>
                <input type="tel" id="checkout-phone" required>

                <label for="checkout-address">Ø¢Ø¯Ø±Ø³ Ú©Ø§Ù…Ù„:</label>
                <input type="text" id="checkout-address" required>

                <button type="submit" class="btn btn-success" style="width: 100%; font-size: 1.2em;">Ù¾Ø±Ø¯Ø§Ø®Øª Ùˆ Ø«Ø¨Øª Ù†Ù‡Ø§ÛŒÛŒ (Ø´Ø¨ÛŒÙ‡â€ŒØ³Ø§Ø²ÛŒ)</button>
            </form>
        </section>

        <section id="admin-page" class="page-content admin-panel">
            <h2>Ù¾Ù†Ù„ Ù…Ø¯ÛŒØ±ÛŒØª</h2>

            <div id="admin-login-section">
                <form id="login-form">
                    <input type="password" id="admin-password" placeholder="Ø±Ù…Ø² Ø¹Ø¨ÙˆØ± Ø§Ø¯Ù…ÛŒÙ† (Rohamkhademi1390)" required>
                    <button type="submit" class="btn btn-primary">ÙˆØ±ÙˆØ¯</button>
                </form>
                <p id="login-message" class="error-message"></p>
            </div>

            <div id="admin-management-section" style="display: none;">
                <button class="btn btn-danger" style="float: left;" onclick="handleAdminLogout()">Ø®Ø±ÙˆØ¬</button>
                <h3>Ø§ÙØ²ÙˆØ¯Ù† Ù…Ø­ØµÙˆÙ„ Ø¬Ø¯ÛŒØ¯</h3>
                <form id="add-product-form" class="product-form">
                    <label for="prod-name">Ù†Ø§Ù… Ù…Ø­ØµÙˆÙ„:</label><input type="text" id="prod-name" required>
                    <label for="prod-price">Ù‚ÛŒÙ…Øª (ØªÙˆÙ…Ø§Ù†):</label><input type="number" id="prod-price" required>
                    <label for="prod-image">Ù„ÛŒÙ†Ú© ØªØµÙˆÛŒØ± (URL):</label><input type="url" id="prod-image" value="https://via.placeholder.com/300x200?text=Ù…Ø­ØµÙˆÙ„+Ø¬Ø¯ÛŒØ¯">
                    <label for="prod-desc">ØªÙˆØ¶ÛŒØ­Ø§Øª:</label><textarea id="prod-desc" rows="3"></textarea>
                    
                    <button type="submit" class="btn btn-primary">Ø«Ø¨Øª Ù…Ø­ØµÙˆÙ„</button>
                    <p id="product-message" class="error-message"></p>
                </form>

                <hr>
                <h3>Ù„ÛŒØ³Øª Ù…Ø­ØµÙˆÙ„Ø§Øª</h3>
                <ul id="admin-product-list" style="list-style: none;">
                    </ul>
            </div>
        </section>
        
        <section id="success-page" class="page-content" style="text-align: center; padding-top: 100px;">
            <h2 style="color: var(--success-color);">âœ… Ù¾Ø±Ø¯Ø§Ø®Øª Ù…ÙˆÙÙ‚ÛŒØªâ€ŒØ¢Ù…ÛŒØ² Ø¨ÙˆØ¯!</h2>
            <p>Ø³ÙØ§Ø±Ø´ Ø´Ù…Ø§ Ø¨Ø§ Ù…ÙˆÙÙ‚ÛŒØª Ø«Ø¨Øª Ø´Ø¯ Ùˆ Ø¨Ù‡ Ø²ÙˆØ¯ÛŒ Ø§Ø±Ø³Ø§Ù„ Ø®ÙˆØ§Ù‡Ø¯ Ø´Ø¯.</p>
            <p style="font-weight: 700; margin-top: 20px;">Ø§Ø² Ø®Ø±ÛŒØ¯ Ø´Ù…Ø§ Ù…ØªØ´Ú©Ø±ÛŒÙ….</p>
            <button class="btn btn-primary" onclick="showPage('home')" style="margin-top: 30px;">Ø¨Ø§Ø²Ú¯Ø´Øª Ø¨Ù‡ ØµÙØ­Ù‡ Ø§ØµÙ„ÛŒ</button>
        </section>

    </main>

    <footer class="footer" style="text-align: center; padding: 20px; background-color: #333; color: white; margin-top: 50px;">
        <p>&copy; 2025 ÙØ±ÙˆØ´Ú¯Ø§Ù‡ Roham - ØªÙˆØ³Ø¹Ù‡â€ŒØ¯Ù‡Ù†Ø¯Ù‡: Ø´Ù…Ø§</p>
    </footer>

    <script>
        // ØªØ¹Ø±ÛŒÙ Ù…ØªØºÛŒØ±Ù‡Ø§ÛŒ Ø«Ø§Ø¨Øª Ùˆ Ø¯Ø§Ø¯Ù‡â€ŒÙ‡Ø§
        const ADMIN_PASSWORD = "Rohamkhademi1390";
        const STORAGE_KEY_PRODUCTS = 'rohamStoreProducts';
        const STORAGE_KEY_CART = 'rohamStoreCart';

        // Ù…Ø­ØµÙˆÙ„Ø§Øª Ø§ÙˆÙ„ÛŒÙ‡
        let products = JSON.parse(localStorage.getItem(STORAGE_KEY_PRODUCTS)) || [
            { id: 1, name: "Ù„Ù¾ ØªØ§Ù¾ Ù‚Ø¯Ø±ØªÙ…Ù†Ø¯", price: 25000000, image: "https://via.placeholder.com/300x200?text=Ù„Ù¾+ØªØ§Ù¾", description: "Ù„Ù¾ ØªØ§Ù¾ Ù†Ø³Ù„ Ø¬Ø¯ÛŒØ¯ Ø¨Ø§ 32 Ú¯ÛŒÚ¯ Ø±Ù…." },
            { id: 2, name: "Ú¯ÙˆØ´ÛŒ Ù‡ÙˆØ´Ù…Ù†Ø¯", price: 12000000, image: "https://via.placeholder.com/300x200?text=Ù…ÙˆØ¨Ø§ÛŒÙ„", description: "Ú¯ÙˆØ´ÛŒ Ù¾Ø±Ú†Ù…Ø¯Ø§Ø± Ø¨Ø§ Ø¯ÙˆØ±Ø¨ÛŒÙ† 108 Ù…Ú¯Ø§Ù¾ÛŒÚ©Ø³Ù„ÛŒ." },
            { id: 3, name: "Ù‡Ø¯ÙÙˆÙ† Ø¨ÛŒâ€ŒØ³ÛŒÙ…", price: 3500000, image: "https://via.placeholder.com/300x200?text=Ù‡Ø¯ÙÙˆÙ†", description: "Ù‡Ø¯ÙÙˆÙ† Ø¨Ø§ Ù‚Ø§Ø¨Ù„ÛŒØª Ø­Ø°Ù Ù†ÙˆÛŒØ² ÙØ¹Ø§Ù„." }
        ];

        // Ø³Ø¨Ø¯ Ø®Ø±ÛŒØ¯
        let cart = JSON.parse(localStorage.getItem(STORAGE_KEY_CART)) || [];
        
        // =======================================================
        // ØªÙˆØ§Ø¨Ø¹ Ø§ØµÙ„ÛŒ (Ù†Ø§ÙˆØ¨Ø±ÛŒ Ùˆ Ø°Ø®ÛŒØ±Ù‡â€ŒØ³Ø§Ø²ÛŒ)
        // =======================================================

        function saveProducts() {
            localStorage.setItem(STORAGE_KEY_PRODUCTS, JSON.stringify(products));
        }

        function saveCart() {
            localStorage.setItem(STORAGE_KEY_CART, JSON.stringify(cart));
        }
        
        function formatPrice(price) {
            return price.toLocaleString('fa-IR') + ' ØªÙˆÙ…Ø§Ù†';
        }

        function showPage(pageId) {
            document.querySelectorAll('.page-content').forEach(page => {
                page.classList.remove('active');
            });
            document.getElementById(`${pageId}-page`).classList.add('active');
            
            // Ø±Ù†Ø¯Ø± Ù…Ø­ØªÙˆØ§ÛŒ Ø®Ø§Øµ Ù‡Ø± ØµÙØ­Ù‡
            if (pageId === 'home') {
                renderProducts();
            } else if (pageId === 'cart') {
                renderCart();
            } else if (pageId === 'checkout') {
                renderCheckoutSummary();
            } else if (pageId === 'admin') {
                checkAdminStatus();
            }
        }
        
        // =======================================================
        // Ù…Ù†Ø·Ù‚ ØµÙØ­Ù‡ Ø§ØµÙ„ÛŒ (Home)
        // =======================================================

        function renderProducts() {
            const productListElement = document.getElementById('product-list');
            productListElement.innerHTML = '';
            
            products.forEach(product => {
                const productCard = document.createElement('div');
                productCard.className = 'product-card';
                productCard.innerHTML = `
                    <img src="${product.image}" alt="${product.name}">
                    <h3>${product.name}</h3>
                    <p class="price">${formatPrice(product.price)}</p>
                    <p style="padding: 0 15px; margin-bottom: 10px;">${product.description}</p>
                    <button class="btn btn-primary" onclick="addToCart(${product.id})">Ø§ÙØ²ÙˆØ¯Ù† Ø¨Ù‡ Ø³Ø¨Ø¯</button>
                `;
                productListElement.appendChild(productCard);
            });
        }
        
        // =======================================================
        // Ù…Ù†Ø·Ù‚ Ø³Ø¨Ø¯ Ø®Ø±ÛŒØ¯ (Cart) Ùˆ Checkout
        // =======================================================

        function updateCartCount() {
            const totalItems = cart.reduce((sum, item) => sum + item.quantity, 0);
            document.getElementById('cart-count').textContent = totalItems;
            return totalItems;
        }

        function addToCart(productId) {
            const product = products.find(p => p.id === productId);
            if (!product) return;
            
            const existingItem = cart.find(item => item.id === productId);

            if (existingItem) {
                existingItem.quantity += 1;
            } else {
                cart.push({ 
                    id: product.id, 
                    name: product.name, 
                    price: product.price, 
                    image: product.image,
                    quantity: 1 
                });
            }
            
            saveCart();
            updateCartCount();
            alert(`Ù…Ø­ØµÙˆÙ„ "${product.name}" Ø¨Ù‡ Ø³Ø¨Ø¯ Ø®Ø±ÛŒØ¯ Ø§Ø¶Ø§ÙÙ‡ Ø´Ø¯.`);
        }

        function calculateCartTotals() {
            const subtotal = cart.reduce((sum, item) => sum + (item.price * item.quantity), 0);
            const shipping = subtotal > 5000000 ? 0 : 50000; // Ø§Ø±Ø³Ø§Ù„ Ø±Ø§ÛŒÚ¯Ø§Ù† Ø¨Ø±Ø§ÛŒ Ø¨Ø§Ù„Ø§ÛŒ 5 Ù…ÛŒÙ„ÛŒÙˆÙ†
            const total = subtotal + shipping;
            return { subtotal, shipping, total };
        }

        function renderCart() {
            const cartContainer = document.getElementById('cart-items-container');
            const totals = calculateCartTotals();
            const itemCount = updateCartCount();
            
            cartContainer.innerHTML = '';

            if (itemCount === 0) {
                document.getElementById('cart-empty-message').style.display = 'block';
                document.getElementById('cart-summary').style.display = 'none';
                return;
            }
            
            document.getElementById('cart-empty-message').style.display = 'none';
            document.getElementById('cart-summary').style.display = 'block';

            cart.forEach(item => {
                const cartItemElement = document.createElement('div');
                cartItemElement.className = 'cart-item';
                cartItemElement.innerHTML = `
                    <img src="${item.image}" alt="${item.name}">
                    <div class="item-info">
                        <h4>${item.name}</h4>
                        <p>${formatPrice(item.price)}</p>
                    </div>
                    <div class="item-quantity">
                        <button class="btn btn-danger" onclick="updateQuantity(${item.id}, -1)">-</button>
                        <input type="number" value="${item.quantity}" min="1" readonly>
                        <button class="btn btn-primary" onclick="updateQuantity(${item.id}, 1)">+</button>
                    </div>
                    <div style="width: 150px; text-align: left;">
                        ${formatPrice(item.price * item.quantity)}
                        <button class="btn btn-danger" style="margin-right: 15px;" onclick="removeFromCart(${item.id})">Ø­Ø°Ù</button>
                    </div>
                `;
                cartContainer.appendChild(cartItemElement);
            });

            document.getElementById('subtotal').textContent = formatPrice(totals.subtotal);
            document.getElementById('shipping').textContent = totals.shipping === 0 ? 'Ø±Ø§ÛŒÚ¯Ø§Ù†' : formatPrice(totals.shipping);
            document.getElementById('total-price').textContent = formatPrice(totals.total);
        }
        
        function updateQuantity(productId, change) {
            const item = cart.find(i => i.id === productId);
            if (item) {
                item.quantity += change;
                if (item.quantity <= 0) {
                    removeFromCart(productId);
                } else {
                    saveCart();
                    renderCart();
                }
            }
        }
        
        function removeFromCart(productId) {
            cart = cart.filter(item => item.id !== productId);
            saveCart();
            renderCart();
        }
        
        function renderCheckoutSummary() {
            const totals = calculateCartTotals();
            document.getElementById('checkout-count').textContent = updateCartCount();
            document.getElementById('checkout-total').textContent = formatPrice(totals.total);
            
            // Ø§Ú¯Ø± Ø³Ø¨Ø¯ Ø®Ø§Ù„ÛŒ Ø¨ÙˆØ¯ØŒ Ø¨Ù‡ Ø®Ø§Ù†Ù‡ Ø¨Ø±Ú¯Ø±Ø¯Ø§Ù†
            if (updateCartCount() === 0) {
                showPage('home');
                alert("Ø³Ø¨Ø¯ Ø®Ø±ÛŒØ¯ Ø´Ù…Ø§ Ø®Ø§Ù„ÛŒ Ø§Ø³Øª Ùˆ Ù†Ù…ÛŒâ€ŒØªÙˆØ§Ù†ÛŒØ¯ Ù¾Ø±Ø¯Ø§Ø®Øª Ú©Ù†ÛŒØ¯.");
            }
        }
        
        // Ù…Ø¯ÛŒØ±ÛŒØª Ù†Ù‡Ø§ÛŒÛŒ Ú©Ø±Ø¯Ù† Ø®Ø±ÛŒØ¯ (Ø´Ø¨ÛŒÙ‡â€ŒØ³Ø§Ø²ÛŒ ØªØ±Ø§Ú©Ù†Ø´)
        document.getElementById('checkout-form').addEventListener('submit', function(e) {
            e.preventDefault();
            // Ø¯Ø± Ø§ÛŒÙ†Ø¬Ø§ØŒ Ø§Ø·Ù„Ø§Ø¹Ø§Øª Ø¢Ø¯Ø±Ø³ Ùˆ ØªÙ…Ø§Ø³ Ù…ÛŒâ€ŒØªÙˆØ§Ù†Ù†Ø¯ Ø¨Ù‡ Ø¨Ú©â€ŒØ§Ù†Ø¯ ÙØ±Ø³ØªØ§Ø¯Ù‡ Ø´ÙˆÙ†Ø¯
            
            // Ø´Ø¨ÛŒÙ‡â€ŒØ³Ø§Ø²ÛŒ Ø§ØªØµØ§Ù„ Ø¨Ù‡ Ø¯Ø±Ú¯Ø§Ù‡ Ù¾Ø±Ø¯Ø§Ø®Øª Ø¨Ø§Ù†Ú©ÛŒ
            alert("Ø¯Ø± Ø­Ø§Ù„ Ø§ØªØµØ§Ù„ Ø¨Ù‡ Ø¯Ø±Ú¯Ø§Ù‡ Ù¾Ø±Ø¯Ø§Ø®Øª Ø¨Ø§Ù†Ú©...");
            
            // Ø´Ø¨ÛŒÙ‡â€ŒØ³Ø§Ø²ÛŒ Ù¾Ø±Ø¯Ø§Ø®Øª Ù…ÙˆÙÙ‚
            setTimeout(() => {
                // Ø«Ø¨Øª Ø³ÙØ§Ø±Ø´ Ùˆ Ù¾Ø§Ú© Ú©Ø±Ø¯Ù† Ø³Ø¨Ø¯ Ø®Ø±ÛŒØ¯
                cart = [];
                saveCart();
                updateCartCount();
                
                showPage('success'); // Ù†Ù…Ø§ÛŒØ´ ØµÙØ­Ù‡ Ù…ÙˆÙÙ‚ÛŒØª
            }, 2000);
        });

        // =======================================================
        // Ù…Ù†Ø·Ù‚ Ù¾Ù†Ù„ Ø§Ø¯Ù…ÛŒÙ† (Admin)
        // =======================================================
        
        function checkAdminStatus() {
            const loggedIn = localStorage.getItem('adminLoggedIn') === 'true';
            document.getElementById('admin-login-section').style.display = loggedIn ? 'none' : 'block';
            document.getElementById('admin-management-section').style.display = loggedIn ? 'block' : 'none';
            if (loggedIn) {
                renderAdminProducts();
            }
        }

        document.getElementById('login-form').addEventListener('submit', function(e) {
            e.preventDefault();
            const password = document.getElementById('admin-password').value;
            const messageElement = document.getElementById('login-message');
            
            if (password === ADMIN_PASSWORD) {
                localStorage.setItem('adminLoggedIn', 'true');
                messageElement.textContent = "ÙˆØ±ÙˆØ¯ Ù…ÙˆÙÙ‚ÛŒØªâ€ŒØ¢Ù…ÛŒØ².";
                messageElement.style.color = 'var(--success-color)';
                checkAdminStatus();
            } else {
                messageElement.textContent = "âŒ Ø±Ù…Ø² Ø¹Ø¨ÙˆØ± Ø§Ø´ØªØ¨Ø§Ù‡ Ø§Ø³Øª.";
                messageElement.style.color = 'var(--danger-color)';
            }
            document.getElementById('admin-password').value = '';
        });
        
        function handleAdminLogout() {
            localStorage.removeItem('adminLoggedIn');
            checkAdminStatus();
            alert("Ø´Ù…Ø§ Ø§Ø² Ù¾Ù†Ù„ Ø§Ø¯Ù…ÛŒÙ† Ø®Ø§Ø±Ø¬ Ø´Ø¯ÛŒØ¯.");
        }

        document.getElementById('add-product-form').addEventListener('submit', function(e) {
            e.preventDefault();
            
            const name = document.getElementById('prod-name').value;
            const price = parseInt(document.getElementById('prod-price').value);
            const image = document.getElementById('prod-image').value;
            const description = document.getElementById('prod-desc').value;
            const messageElement = document.getElementById('product-message');

            const newProduct = {
                id: Date.now(), // Ø´Ù†Ø§Ø³Ù‡ Ù…Ù†Ø­ØµØ± Ø¨Ù‡ ÙØ±Ø¯
                name,
                price,
                image,
                description
            };

            products.push(newProduct);
            saveProducts();
            
            // Ù¾Ø§Ú© Ú©Ø±Ø¯Ù† ÙØ±Ù…
            e.target.reset();
            messageElement.textContent = `âœ… Ù…Ø­ØµÙˆÙ„ "${name}" Ø¨Ø§ Ù…ÙˆÙÙ‚ÛŒØª Ø§Ø¶Ø§ÙÙ‡ Ø´Ø¯.`;
            messageElement.style.color = 'var(--success-color)';
            setTimeout(() => messageElement.textContent = '', 3000);
            
            renderAdminProducts();
        });

        function renderAdminProducts() {
            const adminProductList = document.getElementById('admin-product-list');
            adminProductList.innerHTML = '';
            
            products.forEach((product, index) => {
                const listItem = document.createElement('li');
                listItem.style.cssText = 'display: flex; justify-content: space-between; padding: 10px 0; border-bottom: 1px dashed #ccc;';
                listItem.innerHTML = `
                    <span>${index + 1}. ${product.name} - ${formatPrice(product.price)}</span>
                    <button class="btn btn-danger" style="padding: 5px 10px;" onclick="deleteProduct(${product.id})">Ø­Ø°Ù</button>
                `;
                adminProductList.appendChild(listItem);
            });
        }
        
        function deleteProduct(productId) {
            if (!confirm("Ø¢ÛŒØ§ Ù…Ø·Ù…Ø¦Ù† Ù‡Ø³ØªÛŒØ¯ Ú©Ù‡ Ù…ÛŒâ€ŒØ®ÙˆØ§Ù‡ÛŒØ¯ Ø§ÛŒÙ† Ù…Ø­ØµÙˆÙ„ Ø±Ø§ Ø­Ø°Ù Ú©Ù†ÛŒØ¯ØŸ")) return;
            
            products = products.filter(p => p.id !== productId);
            saveProducts();
            renderAdminProducts();
            alert("Ù…Ø­ØµÙˆÙ„ Ø­Ø°Ù Ø´Ø¯.");
        }

        // =======================================================
        // Ø´Ø±ÙˆØ¹ Ø¨Ø±Ù†Ø§Ù…Ù‡
        // =======================================================
        window.onload = () => {
            updateCartCount();
            renderProducts();
            // Ø§Ø·Ù…ÛŒÙ†Ø§Ù† Ø§Ø² Ù†Ù…Ø§ÛŒØ´ ØµÙØ­Ù‡ Ø®Ø§Ù†Ù‡ Ø¯Ø± Ø§Ø¨ØªØ¯Ø§
            document.getElementById('home-page').classList.add('active');
        };
    </script>
</body>
</html>
